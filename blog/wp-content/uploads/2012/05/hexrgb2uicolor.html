<!doctype html>
<title>HexRGB To UIColor</title>
<style>
pre {
  background: #eee;
  padding: 5px 10px;
  border: 1px solid #aaa;
  border-radius: 3px;
  box-shadow: 1px 1px 5px #ddd;
}
</style>
<h1>HexRGB To UIColor</h1>
<form action="#" id="HTU_form">
  #<input type="text" id="HTU_rgb" placeholder="ex) ccc, ff9900" />
  <input type="submit" />
</form>
<pre id="HTU_uicolor" class="lang:objc decode:true ">
</pre>
<script>
window.addEventListener('load', function() {

  var form = document.querySelector('#HTU_form'); 
  var rgb = document.querySelector('#HTU_rgb'); 
  var uicolor = document.querySelector('#HTU_uicolor'); 

  var doc = '<p>\
<strong>Raw</strong><br />\
r = $r<br />\
g = $g<br />\
b = $b\
</p>\
<strong>Readable</strong><br />\
[UIColor colorWithRed:$r/255.0 green:$g/255.0 blue:$b/255.0 alpha:1.0]\
</p>\
<p>\
<strong>Readable(With CGColor)</strong><br />\
[UIColor colorWithRed:$r/255.0 green:$g/255.0 blue:$b/255.0 alpha:1.0].CGColor\
<p>\
<strong>Float</strong><br />\
[UIColor colorWithRed:$r2 green:$g2 blue:$b2 alpha:1.0]\
</p>\
<p>\
<strong>Float(With CGColor)</strong><br />\
[UIColor colorWithRed:$r2 green:$g2 blue:$b2 alpha:1.0].CGColor\
</p>';

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    var hex = rgb.value.split('');
    var r = 0;
    var g = 0;
    var b = 0; 

    if (hex.length >= 6) {
      r = hex.splice(0, 2).join('');
      g = hex.splice(0, 2).join('');
      b = hex.splice(0, 2).join('');
    } else if (hex.length >= 3) {
      r = hex.splice(0, 1);
      r += r;
      g = hex.splice(0, 1);
      g += g;
      b = hex.splice(0, 1);
      b += b;
    }

    r = parseInt(r, 16);
    g = parseInt(g, 16);
    b = parseInt(b, 16);

    r2 = (r / 255).toFixed(2)
    g2 = (g / 255).toFixed(2)
    b2 = (b / 255).toFixed(2)

    uicolor.innerHTML = doc
      .replace(/\$r2/g, r2)
      .replace(/\$g2/g, g2)
      .replace(/\$b2/g, b2)
      .replace(/\$r/g, r)
      .replace(/\$g/g, g)
      .replace(/\$b/g, b)

  }, false);

  rgb.focus();

}, false);
</script>

